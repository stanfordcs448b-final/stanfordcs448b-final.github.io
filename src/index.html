<html>
<head>
    <script defer src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script defer src="https://d3js.org/topojson.v1.min.js"></script>
    <script type="module" src="index.js"></script>
    <link rel="stylesheet" href="index.css"></style>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
</head>

<body>
    <div class="article">
        <h1>How to not get stuck at <span class="airportInTitle">MDW</span></h1>
        <h3>A data-driven guide</h3>
        <p style="font-weight: 700;">Scott Milner and Isaac Criddle</p>
        <br>
        <p style="font-style: italic; font-weight: 300;">Explore flight delays and their causes!</p>
        <br>
        <p>
            A few months ago, I (Isaac) bought tickets to fly from Salt Lake to Richmond to visit my parents.
            After years spent in Utah Valley’s desert, I was looking forward to the walks in my hometown’s forests, summer rains,
            and Virginian oysters that characterize my hometown. My travels that day were supposed to be light, with just one small layover.
            <br><br>
            The airport system had other plans for me. One slightly delayed flight led to a missed connection in Chicago,
            sprints from terminal to service desk to terminal, hours on the phone, and ultimately the worst airport experience of my life.
            Four airports and 21 hours later, I touched down in Norfolk.
            <br><br>
            In my case, a 15 minute delay meant the difference between an 8 hour trip and a 21 hour trip.
            <br><br>
            In 2024, <span class="emphasizedRed">1.4 million</span> American domestic flights were delayed by at least 15 minutes.
            <span class="emphasizedRed">21.7%</span> of all domestic flights were either cancelled or delayed.
            These delays alone caused around <span class="emphasizedRed">185 million hours</span> of wasted passenger time,
            let alone the time spent recovering from the disturbance.
            <br><br>
            At least in my family, Chicago’s two main airports are legendary for their volatility.
            We tell horror stories around the campfire about days lost to their endless delays and queues.
            Here's the question: Is Midway really a terrible airport, or was I just unlucky?
            Can you avoid delays?
        </p>
        <br>
        <br>
        <br>
    </div>
    <div id="container3">
        <h4 class="article">How does <span id="factorName">origin airport</span> compare?</h4>
        <div id="canvasDiv">
            <svg id="canvas" width="1000" height="500" viewbox="0 0 1000 500" background-color="lightblue">
                <rect width="100%" height="100%" fill="#efeee9"/>
            </svg>
        </div>
        <div id="menuDiv">
            <select id="firstDropdown">
                <option value="dsOrigin" selected="selected">Origin Airport</option>
                <option value="dsDest">Destination Airport</option>
                <option value="dsAirline">Airline</option>
                <option value="dsTime">Time of Day</option> 
                <option value="dsMonth">Month</option>
            </select>
            <datalist id="suggestions">
            </datalist>
            <input id="suggestionsInput" type="text" autoComplete="on" list="suggestions"/> 
        </div>
        <p class="Caption">Check out your own airport / airline / time of day / time of year!</p>
    </div>
    <div class="article">
        <br>
        <br>
        <br>
        <p>
            Midway did only a touch worse than the national average in 2024! I must have been unlucky.
            <br><br>
            Of large airports, the one with the most frequent delays was Baltimore/Washington International (BWI) with a whopping
            <span class="emphasizedRed">29.4%</span> delay rate,
            followed closely by Dallas Fort Worth International (DFW) airport at <span class="emphasizedRed">28.8%</span>.
            Compare to Salt Lake City (SLC), with a relatively low delay rate of <span class="emphasizedBlue">17.2%</span>.
            (For our purposes, we count flight cancellations and departure delays that take longer than 15 minutes).
            <br><br>
            If you’re planning around flight delays, other factors matter beyond your airport of origin.
            Consider destination airport. For instance, <span class="emphasizedRed">54.0%</span> of 2024’s flights from BWI to Oakland were delayed,
            but only <span class="emphasizedBlue">21.2%</span> of the flights from Baltimore to San Jose were delayed,
            even though both destination airports are in the Bay area.</p>
        <br>
        <br>
        <br>
    </div>
    <div id="container1">
        <svg id="map" width="975" height="610" viewbox="0 0 975 610">
            <g id="background"></g>
            <g id="vis">
                <g class="connections"></g>
                <g class="airports"></g>
                <g class="labels"></g>
            </g>
        </svg>
        <div class="sidebar">
            <div id="sidebarheader">
                <h4 id="airportname"></h4>
                <p id="summary"></p>
            </div>
            <div id="routes">
                <table id="routetable"></table>
            </div>
        </div>
        <div class="d3cache" style="display: none;"></div>
        <p class="Caption">Take a look at your own airport's delays!</p>
    </div>
    <div class="article">
        <br>
        <br>
        <br>
        <p>
            Bigger airports typically have delays more often than smaller airports
            (<span style="font-family: 'Times New Roman', Times, serif; font-style: italic;">R</span> = 0.34).
            If you're someone who hates being held up,
            it might be worth paying a little more for a ticket that avoids the largest airports.
            For instance, your odds of being delayed are <span class="emphasizedBlue">34%</span>
            lower flying out of San Jose (SJC) than out of San Francisco (SFO).
        </p>
        <br>
        <br>
        <br>
    </div>
    <div id="container4">
        <div id="graphCanvasDiv">
            <svg id="graphCanvas" width="1000" height="500" viewbox="0 0 1000 500">
            </svg>
        </div>
        <p class="Caption">
            Looks like Hawaii has amazing airports (HNL, OGG, LIH, ITO)!
            They have low delay rates despite their large throughput.
            On the other hand, Florida's airports have relatively high delay rates (MIA, MCO, FLL).
        </p>
    </div>
    <div class="article">
        <br>
        <br>
        <br>
        <p>
            
        </p>
        <p>
            Delays often propagate; a late flight in the morning can cause another late afternoon flight,
            so evening flights are more than twice as likely to be delayed as morning flights.
            If you're going to change anything about your behavior though, consider leaving early in the morning if you can.
        </p>
        <p>
            That said, if you get delayed in the early morning,
            the length of your delay tends to be significantly higher between midnight and 6am than any other time of day, 
            perhaps for staffing reasons.
        </p>
        <p>
            Something worth considering beyond <span class="emphasizedRed">whether or not</span>
            you are delayed is <span class="emphasizedBlue">by how much</span> your schedule is pushed back.
            Below, you can explore severity of delay by airport, airline or timing.
        </p>
        <br>
        <br>
        <br>
    </div>
    <div id="container5">
        <h4 class="article">How bad are the delays <span id="factorName5">at a given origin airport</span>?</h4>
        <div id="canvasDiv5">
            <svg id="canvas5" width="1000" height="500" viewbox="0 0 1000 500" background-color="lightblue">
                <rect width="100%" height="100%" fill="#efeee9"/>
            </svg>
        </div>
        <div id="menuDiv5">
            <select id="firstDropdown5">
                <option value="dsOrigin" selected="selected">Origin Airport</option>
                <option value="dsDest">Destination Airport</option>
                <option value="dsAirline">Airline</option>
                <option value="dsTime">Time of Day</option> 
                <option value="dsMonth">Month</option>
            </select>
            <datalist id="suggestions5">
            </datalist>
            <input id="suggestionsInput5" type="text" autoComplete="on" list="suggestions5"/> 
        </div>
        <p class="Caption">Check out your own airport / airline / time of day / time of year!
            Even though Chicago's Midway airport has more frequent delays than the average airport,
            its delays are a touch shorter on average.</p>
    </div>
    <div class="article">
        <br>
        <br>
        <br>
        <p>
            Once your flight’s been pushed back by 15 minutes, your expected wait time jumps to over an hour.
            Larger airports have somewhat lower delay durations than smaller airports,
            probably because they're have more resources to deal with delays in terms of personnel,
            equipment and funding.
            Not all kinds of delays are the same; delays caused by weather average a <span class="emphasizedRed">93 minute</span> wait time, 
            while security delays average <span class="emphasizedBlue">38 minutes</span>.
            <br><br>
        </p>
        <br>
        <br>
        <br>
    </div>
    <div id="container2">
        <svg id="map" width="975" height="740" viewbox="0 0 975 900">
            <g id="background"></g>
            <g id="vis">
                <g class="airports"></g>
                <g class="labels"></g>
            </g>
            <g id="delaygraph" transform="translate(0,650)">
                <g id="bars"></g>
            </g>
            <g id="legend" transform="translate(870,650)"></g>
        </svg>
        <div class="d3cache" style="display: none;"></div>
        <input type="checkbox" id="delayNormalize" checked/>
        <label for="delayNormalize" style="user-select: none; -webkit-user-select: none;">Normalize flight count</label>
        <input type="checkbox" id="includeCancellations"/>
        <label for="includeCancellations" style="user-select: none; -webkit-user-select: none;">Include cancelled flights</label>
        <p class="Caption">Different airports have delays for different reasons. Compare a few airports to get a sense for it!</p>
    </div>
    <div class="article">
        <br>
        <br>
        <br>
        <p>
            Inconveniences may part of traveling, but with some extra thought,
            you can cut down the odds of travel misery.
            Poke around the above visualizations for more specifics about your own airports and routes.
        </p>
        <h3>Pro tips:</h3>
        <ul>
            <li>Travel via smaller airports where possible</li>
            <li>Choose morning flights</li>
            <li>Fewer layovers are better</li>
            <li>If traveling in summer, build in some extra leeway for delays</li>
        </ul>
        <br>
        <br>
        <br>
        <h3>data sources:</h3>
        <ul>
            <li><a href="https://www.transtats.bts.gov/Fields.asp?gnoyr_VQ=FGJ">Bureau of Transportation Statistics Database</a></li>
            <li><a href="https://www.faa.gov/air_traffic/by_the_numbers/air-traffic-by-the-numbers-FY2024.pdf">Federal Aviation Administration Air Traffic Report</a></li>
        </ul>
        <br>
        <br>
        <p>
            Assignment for <a href="https://magrawala.github.io/cs448b-fa25/#about">Stanford CS 448B: Data Visualization</a>
        </p>
        <br>
        <br>
    </div>
</body>
</html>
